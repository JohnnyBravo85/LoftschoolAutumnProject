(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{432:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"works-section__edit-form"},[a("h3",{staticClass:"works-section__form-title edit-title"},[t._v("Добавление работы")]),a("div",{staticClass:"works-section__edit-work"},[a("div",{staticClass:"works-section__load",style:{backgroundImage:t.avatarPreview,backgroundSize:"cover"}},[a("p",{staticClass:"works-section__load-text"},[t._v("Перетащите или загрузите для загрузки изображения")]),a("button",{staticClass:"works-section__load-btn",attrs:{type:"submit"}},[t._v("ЗАГРУЗИТЬ")]),a("input",{staticClass:"works-section__edit-this-photo",attrs:{type:"file",accept:"image/jpeg"},on:{change:t.renderFile}})]),a("p",{staticClass:"work-section__change-preview"},[t._v("Изменить превью")]),a("div",{staticClass:"works-section__edit-work-data"},[a("form",{staticClass:"works-section__edit-work-form"},[a("label",{staticClass:"works-section__name-label works-section__label"},[a("h3",{staticClass:"works-section__name-title works-section__work-title"},[t._v("Название")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addWorkData.title,expression:"addWorkData.title"}],staticClass:"works-section__name-input works-section__input",attrs:{placeholder:"Дизайн сайта для авто салона Porsche"},domProps:{value:t.addWorkData.title},on:{input:function(e){e.target.composing||t.$set(t.addWorkData,"title",e.target.value)}}})]),a("label",{staticClass:"works-section__link-label works-section__label"},[a("h3",{staticClass:"works-section__link-title works-section__work-title"},[t._v("Ссылка")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addWorkData.link,expression:"addWorkData.link"}],staticClass:"works-section__link-input works-section__input",attrs:{placeholder:"https://www.yandex.ru"},domProps:{value:t.addWorkData.link},on:{input:function(e){e.target.composing||t.$set(t.addWorkData,"link",e.target.value)}}})]),a("label",{staticClass:"works-section__description-label works-section__label"},[a("h3",{staticClass:"works-section__description-title works-section__work-title"},[t._v("Описание")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addWorkData.description,expression:"addWorkData.description"}],staticClass:"works-section__description-textarea",attrs:{placeholder:"Порше Центр Пулково - является официальным дилером марки Порше в Санкт-Петербурге и предоставляет полный цикл услуг по продаже и сервисному обслуживанию автомобилей"},domProps:{value:t.addWorkData.description},on:{input:function(e){e.target.composing||t.$set(t.addWorkData,"description",e.target.value)}}})]),a("label",{staticClass:"works-section__tag-label works-section__label"},[a("h3",{staticClass:"works-section__tag-title works-section__work-title"},[t._v("Добавление тэгов через запятую")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addWorkData.techs,expression:"addWorkData.techs"}],staticClass:"works-section__tag-input works-section__input",attrs:{placeholder:"Jquery, Vue.js, HTML5"},domProps:{value:t.addWorkData.techs},on:{input:function(e){e.target.composing||t.$set(t.addWorkData,"techs",e.target.value)}}})])])])]),a("div",{staticClass:"works-section__btn-block"},[a("button",{staticClass:"works-section__cansel-btn",attrs:{type:"submit"},on:{click:function(e){return t.$emit("cancelLoad")}}},[t._v("Отмена")]),a("button",{staticClass:"works-section__confirm-btn",attrs:{type:"submit"},on:{click:t.addNewWork}},[t._v("Сохранить")])])])};s._withStripped=!0;var o=a(65),i={data:()=>({renderedPhoto:"",addWorkData:{title:"",techs:"",photo:"",link:"",description:""}}),methods:{...Object(o.b)("works",["addWork"]),...Object(o.b)("tooltipe",["showTooltipe"]),renderFile(t){const e=t.target.files[0];this.addWorkData.photo=e;const a=new FileReader;try{a.readAsDataURL(e),a.onloadend=(()=>{this.renderedPhoto=a.result})}catch(t){this.showTooltipe({active:!0,message:t.message})}},async addNewWork(){try{var t=new FormData;t.append("photo",this.addWorkData.photo),t.append("title",this.addWorkData.title),t.append("techs",this.addWorkData.techs),t.append("link",this.addWorkData.link),t.append("description",this.addWorkData.description),this.addWork(t),this.$emit("cancelLoad")}catch(t){this.showTooltipe({active:!0,message:t.message})}}},computed:{avatarPreview(){return`url(${this.renderedPhoto})`}}},r=a(96),n=Object(r.a)(i,s,[],!1,null,null,null);n.options.__file="src/admin/components/work-add.vue";e.default=n.exports}}]);